#ifndef JS_BOARD_EDIT_H
#define JS_BOARD_EDIT_H

// Auto-generated from board_edit.js
// DO NOT EDIT THIS FILE DIRECTLY - Edit js_source/board_edit.js instead
// Run 'npm run build' or 'yarn build' to regenerate

#define JS_BOARD_EDIT \
"let isPaused=!1;function initBoardEdit(){fetch(\"/board\").then(e=>e.json()).then(e=>{e.valid?renderEditBoard(e.board):renderEditBoard(Array(8).fill(null).map(()=>Array(8).fill(\"\")))}).catch(e=>{console.error(\"Error fetching board state:\",e),renderEditBoard(Array(8).fill(null).map(()=>Array(8).fill(\"\")))});const e=document.getElementById(\"pause-toggle\");e&&(e.addEventListener(\"click\",togglePause),checkPauseState());const t=document.getElementById(\"boardForm\");t&&t.addEventListener(\"submit\",handleFormSubmit);const n=document.getElementById(\"undo-button\");n&&n.addEventListener(\"click\",handleUndo)}function renderEditBoard(e){const t=document.getElementById(\"chess-board\");t.innerHTML=\"\";const n=[{value:\"\",label:\"\"},{value:\"R\",label:\"♖ R\"},{value:\"N\",label:\"♘ N\"},{value:\"B\",label:\"♗ B\"},{value:\"Q\",label:\"♕ Q\"},{value:\"K\",label:\"♔ K\"},{value:\"P\",label:\"♙ P\"},{value:\"r\",label:\"♜ r\"},{value:\"n\",label:\"♞ n\"},{value:\"b\",label:\"♝ b\"},{value:\"q\",label:\"♛ q\"},{value:\"k\",label:\"♚ k\"},{value:\"p\",label:\"♟ p\"}];for(let o=0;o<8;o++)for(let a=0;a<8;a++){const s=(o+a)%2==0,l=document.createElement(\"div\");l.className=\"square \"+(s?\"light\":\"dark\");const d=document.createElement(\"select\");d.name=\"r\"+o+\"c\"+a,d.id=\"r\"+o+\"c\"+a;const r=e[o][a]||\"\";n.forEach(e=>{const t=document.createElement(\"option\");t.value=e.value,t.textContent=e.label,(e.value===r||\" \"===r&&\"\"===e.value)&&(t.selected=!0),d.appendChild(t)}),l.appendChild(d),t.appendChild(l)}}function checkPauseState(){fetch(\"/pause-moves\").then(e=>e.json()).then(e=>{isPaused=e.paused||!1,updatePauseButton()}).catch(e=>{console.error(\"Error checking pause state:\",e)})}function togglePause(){const e=!isPaused,t=new FormData;t.append(\"paused\",e?\"true\":\"false\"),fetch(\"/pause-moves\",{method:\"POST\",body:t}).then(e=>e.json()).then(e=>{isPaused=e.paused||!1,updatePauseButton()}).catch(e=>{console.error(\"Error toggling pause state:\",e)})}function updatePauseButton(){const e=document.getElementById(\"pause-toggle\"),t=document.getElementById(\"undo-button\"),n=document.querySelector(\".status\");e&&(isPaused?(e.textContent=\"Resume Move Detection\",e.classList.remove(\"secondary\"),e.classList.add(\"paused\"),n&&(n.textContent=\"Move detection PAUSED - You can rearrange pieces freely. Click on any square to change the piece.\"),t&&(t.style.display=\"inline-block\")):(e.textContent=\"Pause Move Detection\",e.classList.remove(\"paused\"),e.classList.add(\"secondary\"),n&&(n.textContent=\"Click on any square to change the piece. Empty = no piece.\"),t&&(t.style.display=\"none\")))}function handleUndo(){const e=document.getElementById(\"undo-button\");if(e){e.disabled=!0;const t=e.textContent;e.textContent=\"Undoing...\",console.log(\"Undo button clicked, sending request to /undo-move\"),fetch(\"/undo-move\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"}}).then(e=>(console.log(\"Undo response status:\",e.status),e.json())).then(n=>{if(console.log(\"Undo response data:\",n),n.success){const e=document.querySelector(\".status\");e&&(e.textContent=\"Move undone successfully! Reloading...\",e.style.color=\"#4CAF50\"),setTimeout(()=>{window.location.reload()},1e3)}else alert(\"Failed to undo move: \"+(n.message||\"Unknown error\")),e.disabled=!1,e.textContent=t}).catch(n=>{console.error(\"Error undoing move:\",n),alert(\"Error undoing move. Please try again.\"),e.disabled=!1,e.textContent=t})}else console.error(\"Undo button not found!\")}function handleFormSubmit(e){e.preventDefault();const t=e.target,n=[];for(let e=0;e<8;e++){const t=[];for(let n=0;n<8;n++){const o=document.getElementById(\"r\"+e+\"c\"+n);if(o){const e=o.value||\"\";t.push(e)}else t.push(\"\")}n.push(t)}const o=t.querySelector('button[type=\"submit\"]'),a=o.textContent;o.textContent=\"Saving...\",o.disabled=!0,fetch(\"/board-edit\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({board:n})}).then(e=>{if(e.ok)return e.text();throw new Error(\"Failed to save board state\")}).then(e=>{if(!e.includes(\"Board Updated!\"))throw new Error(\"Unexpected response from server\");{const e=document.querySelector(\".status\");e&&(e.textContent=\"Board state saved successfully! Reloading...\",e.style.color=\"#4CAF50\"),setTimeout(()=>{window.location.reload()},1e3)}}).catch(e=>{console.error(\"Error saving board state:\",e);const t=document.querySelector(\".status\");t&&(t.textContent=\"Error saving board state. Please try again.\",t.style.color=\"#F44336\"),o.textContent=a,o.disabled=!1})}\"loading\"===document.readyState?document.addEventListener(\"DOMContentLoaded\",initBoardEdit):initBoardEdit();"

#endif // JS_BOARD_EDIT_H
